[platformio]
src_dir = firmware

[env:m5stack-core2]
platform = espressif32
board = m5stack-core2
framework = arduino
monitor_speed = 115200
upload_speed = 1500000
board_build.partitions = default_16MB.csv
board_build.f_cpu = 240000000L

lib_deps =
    m5stack/M5Unified@^0.1.6
    m5stack/M5GFX@^0.1.6
    bblanchon/ArduinoJson@^6.21.3
    meganetaaan/M5Stack-Avatar@^0.10.0

build_flags =
    -DBOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue
    -D CONFIG_SPIRAM_CACHE_WORKAROUND
    -O2

monitor_filters = esp32_exception_decoder
